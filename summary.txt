The developer improved combat by refining enemy movement and behaviors through a context-based steering behavior system, which addresses the limitations of simpler steering behaviors.

Addressing Flaws in Steering Behaviors:

The initial steering behavior system suffered from opposing vectors cancelling each other out, leading to AI getting "dumbfounded" and stuck against walls when trying to move away from a player but encountering an obstacle. This meant the AI would barely move, if at all.
Implementing Context-Based Steering Behavior:

This system records the desirability of different directions and allows the AI to choose the most preferred available option.
The desirability of a direction is determined using a dot product between the considered direction and the desired movement vector. This returns a cosine value ranging from -1 (opposite direction) to 1 (same direction), with 0 for perpendicular movement. This value is then normalized between 0 and 1 to create a desirability scale.
A visual gizmo helps in development by drawing these "weights":
Green lines indicate a desire to move in that direction, with longer lines representing higher desirability.
Red lines indicate no desire to move in that direction.
If a direction becomes obstructed, the AI automatically picks the next best available option.
Enhancing Combat-Specific AI Behaviors:

Strafing and Distance Management: Skeletons are designed to move in and out of combat, strafe around their target, and maintain a safe distance.
One set of weights moves the AI towards the target.
As the AI gets closer to the target, the desirability of moving directly towards it is lessened, allowing other behaviors to become dominant.
A shaping function is applied to the dot product, favoring sideways movement over forward/backward movement when within strafing range, causing the AI to circle the target.
The "following distance" was offset slightly to prevent skeletons from making perfect circles and bouncing off each other, which created a "Newton's cradle of skellies" effect.
Eliminating Jitteriness: To prevent AI from rapidly changing direction due to pushing and pulling between entities:
A shaping function was applied to the separation logic.
Instead of trying to move directly away from the nearest enemy, they now prefer to do so at an angle.
These sophisticated movement tweaks and AI improvements resulted in a highly enjoyable combat experience. A tester found it so engaging that they spent over an hour fighting a handful of skeletons and sprouts.